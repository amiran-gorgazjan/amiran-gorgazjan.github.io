
<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Projects | Amiran Gorgazjan</title>
    <link rel="stylesheet" href="/styles/global.css">
    <link rel="stylesheet" href="/styles/sidebar.css">
    <link rel="stylesheet" href="/styles/md-content.css">
    <link rel="stylesheet" href="/styles/terminal.css">
</head>

<body>
    <div class="site-container">
        <div class="site-container__sidebar">
            

<div class="sidebar sidebar--open">
    <div class="sidebar__close">✕</div>
    <div class="sidebar__open">☰</div>

    <div class="sidebar__content">
        <div class="sidebar__label">Explorer</div>

        <ul>
            <li>
    <a
        href="/"
        class="html ">
        index.html
    </a>
</li>
            <li>
                
    <a
        href="/pages/projects"
        class="folder ">
        pages/
    </a>

                <ul>
                    <li>
    <a
        href="/pages/projects"
        class="html active">
        projects.html
    </a>
</li>
                    <li>
    <a
        href="/pages/cv"
        class="html ">
        cv.html
    </a>
</li>
                </ul>
            </li>
            <li>
                
    <a
        href="/posts/uvicorn-vs-gunicorn"
        class="folder ">
        posts/
    </a>

                <ul>
                    <li>
    <a
        href="/posts/uvicorn-vs-gunicorn"
        class="html ">
        uvicorn vs gunicorn.html
    </a>
</li>
                    <li>
    <a
        href="/posts/signal-based-entity-system"
        class="html ">
        signal based entity system.html
    </a>
</li>
                    <li>
    <a
        href="/posts/the-power-of-useselector"
        class="html ">
        the power of useSelector.html
    </a>
</li>
                    <li>
    <a
        href="/posts/defeating-procrastination-essay"
        class="html ">
        defeating procrastination - an essay.html
    </a>
</li>
                </ul>
            </li>
        </ul>
    </div>
</div>

<script>
    const sidebar = document.querySelector('.sidebar');
    const sidebarClose = document.querySelectorAll('.sidebar__close, .sidebar__open');

    sidebarClose.forEach(el => el.addEventListener('click', () => {
        sidebar.classList.toggle('sidebar--closed');
        sidebar.classList.toggle('sidebar--open');
    }));
</script>
        </div>

        <div class="site-container__content-scroll">
            <div class="site-container__content">
                <div class="md-content">
                    <h1>Projects</h1>

                </div>
            </div>
        </div>

        <div class="site-container__terminal">
            <div class="terminal" id="terminal" tabindex="0">
    <div id="output" class="terminal__output"></div>
    <div class="command-line" id="cmd">
        <span class="command-line__path">amiran@amiran:~$</span>
        <span class="command-line__prompt" id="prompt"></span>
        <span class="command-line__cursor"></span>
    </div>
</div>

<script type="module">
    import ls from '/modules/executables/ls.js';
    import email from '/modules/executables/email.js';

    const $output = document.getElementById('output');
    const $prompt = document.getElementById('prompt');
    const $terminal = document.getElementById('terminal');
    const $cmd = document.getElementById('cmd');

    const print = (text) => {
        if (typeof text !== 'string') {
            try {
                text = JSON.stringify(text);
            } catch (e) {
                text = String(text);
            }
        }

        text = text.split('\n').map(line => line.slice(0, 80)).join('\n');
        $output.textContent += text + '\n';
        $output.scrollTop = $output.scrollHeight;
    };

    const clear = () => $output.textContent = '';

    const exec = async (command) => {
        const args = command.trim().split(' ');
        const name = args[0];
        const params = args.slice(1).filter(p => p !== '');

        if (commands[name]) {
            const style = $cmd.style.display;
            $cmd.style.display = 'none';
            await commands[name].exec({ print, clear, params });
            $cmd.style.display = style;
        } else {
            print(`Command not found: ${name}`);
        }
    };

    const commands = {
        help: {
            description: 'List all available commands',
            exec: ({ print }) => {
                Object.keys(commands).forEach((command) => {
                    const description = commands[command].description;
                    print(`${command} - ${description}`);
                });
            },
        },
        clear: {
            description: 'Clear the terminal screen',
            exec: clear,
        },
        ...ls,
        ...email,
    };

    let input = '';
    let inputAllowed = true;

    function updateInput() {
        $prompt.innerHTML = input;
    }

    $terminal.addEventListener('keydown', async (e) => {
        if (!inputAllowed) {
            return;
        }

        if (e.keyCode === 13) {
            if (input.trim() === '') {
                return;
            }

            inputAllowed = false;
            await exec(input);
            input = '';
            inputAllowed = true;
        } else if (e.keyCode === 8) {
            input = input.slice(0, -1);
        } else if (e.key.length === 1) {
            input += e.key;
        } else if (e.keyCode === 32) {
            input += ' ';
        }

        updateInput();
    });
</script>
        </div>
    </div>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism-themes/1.5.0/prism-material-dark.min.css">
</body>
</html>